<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Packify - Smart Packing App</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        :root {
            --bg: #f8fafc;
            --surface: #ffffff;
            --primary: #4f46e5;
            --primary-hover: #4338ca;
            --text-main: #0f172a;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --danger: #ef4444;
            --success: #10b981;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text-main); line-height: 1.5; padding-bottom: 40px; }
        
        /* Header & Tabs */
        header { background: var(--surface); padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        h1 { text-align: center; font-size: 1.5rem; font-weight: 700; background: linear-gradient(to right, #4f46e5, #ec4899); -webkit-background-clip: text; color: transparent; margin-bottom: 15px; }
        .tabs { display: flex; justify-content: center; gap: 10px; max-width: 600px; margin: 0 auto; }
        .tab-btn { flex: 1; padding: 10px; border: none; background: #f1f5f9; color: var(--text-muted); font-weight: 600; border-radius: 8px; cursor: pointer; transition: 0.2s; font-size: 0.95rem; }
        .tab-btn.active { background: var(--primary); color: white; box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.3); }

        .container { max-width: 800px; margin: 20px auto; padding: 0 15px; }
        
        /* Search & Filter */
        .search-bar { width: 100%; padding: 12px 15px; border: 1px solid var(--border); border-radius: 10px; font-size: 1rem; margin-bottom: 20px; outline: none; transition: 0.2s; }
        .search-bar:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); }

        /* Category Section */
        .category { background: var(--surface); border-radius: 12px; margin-bottom: 20px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); border: 1px solid var(--border); overflow: hidden; }
        .cat-header { padding: 12px 16px; background: #f8fafc; font-weight: 600; font-size: 1.05rem; border-bottom: 1px solid var(--border); color: #334155; }
        
        /* Items List */
        .item { display: flex; justify-content: space-between; align-items: flex-start; padding: 12px 16px; border-bottom: 1px solid var(--border); transition: background 0.1s; }
        .item:last-child { border-bottom: none; }
        .item:hover { background: #f8fafc; }
        
        .item-info { flex: 1; padding-right: 15px; }
        .item-title { font-weight: 500; font-size: 1rem; color: var(--text-main); margin-bottom: 4px; display: block; }
        .item-desc { font-size: 0.85rem; color: var(--text-muted); display: block; margin-bottom: 6px; }
        
        /* Tags Styling - Modern & Compact */
        .tags-container { display: flex; flex-wrap: wrap; gap: 6px; }
        .tag { font-size: 0.7rem; font-weight: 600; padding: 2px 8px; border-radius: 6px; text-transform: uppercase; letter-spacing: 0.3px; }
        .tag-balo { background: #e0e7ff; color: #3730a3; } /* Indigo for Carry-on */
        .tag-vali { background: #f3e8ff; color: #6b21a8; } /* Purple for Checked */
        .tag-warn { background: #fee2e2; color: #b91c1c; border: 1px solid #fca5a5; } /* Red for Customs */
        .tag-liquid { background: #e0f2fe; color: #0369a1; } /* Blue for Liquid */
        .tag-tech { background: #dcfce7; color: #15803d; } /* Green for Digital/Setup */

        /* Buttons & Actions */
        .btn-add { background: var(--bg); border: 1px solid var(--border); color: var(--primary); width: 32px; height: 32px; border-radius: 8px; font-size: 1.2rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.2s; flex-shrink: 0; }
        .btn-add:hover { background: var(--primary); color: white; border-color: var(--primary); }
        .btn-remove { background: #fee2e2; color: var(--danger); border: none; width: 32px; height: 32px; border-radius: 8px; font-size: 1.2rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.2s; flex-shrink: 0; }
        .btn-remove:hover { background: var(--danger); color: white; }

        /* Checklist specific */
        .checkbox-wrapper { display: flex; align-items: flex-start; gap: 12px; }
        input[type="checkbox"] { width: 20px; height: 20px; margin-top: 2px; accent-color: var(--success); cursor: pointer; }
        .checked .item-title, .checked .item-desc { text-decoration: line-through; color: #94a3b8; }
        .checked .tag { opacity: 0.5; }

        /* Progress Bar */
        .progress-container { margin: 20px 0; background: var(--surface); padding: 15px; border-radius: 12px; border: 1px solid var(--border); }
        .progress-text { display: flex; justify-content: space-between; font-weight: 600; font-size: 0.9rem; margin-bottom: 8px; }
        .progress-bar { height: 8px; background: #e2e8f0; border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--success); width: 0%; transition: width 0.3s ease; }

        .hidden { display: none; }
    </style>
</head>
<body>

    <header>
        <h1>Packify - H√†nh Trang ƒêi H·ªçc</h1>
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('db')" id="btn-db">üõí Kho ƒê·ªì</button>
            <button class="tab-btn" onclick="switchTab('list')" id="btn-list">üß≥ Vali C·ªßa T√¥i</button>
        </div>
    </header>

    <div class="container">
        <div id="view-db">
            <input type="text" class="search-bar" id="searchInput" placeholder="T√¨m ki·∫øm ƒë·ªì v·∫≠t... (VD: S·∫°c, Gi·∫•y t·ªù, M√¨)" onkeyup="renderDB()">
            <div id="db-content"></div>
        </div>

        <div id="view-list" class="hidden">
            <div class="progress-container">
                <div class="progress-text">
                    <span>Ti·∫øn ƒë·ªô ƒë√≥ng g√≥i</span>
                    <span id="progress-count">0/0 Ho√†n th√†nh</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>
            <div id="list-content"></div>
        </div>
    </div>

    <script>
        // Core Data - C·∫≠p nh·∫≠t c·ª±c k·ª≥ chi ti·∫øt, tag x·ªãn
        const masterData = [
            // C√îNG NGH·ªÜ & ƒêI·ªÜN T·ª¨
            { id: 't1', cat: 'C√¥ng ngh·ªá & ƒêi·ªán t·ª≠', name: 'S·∫°c d·ª± ph√≤ng Cuktech 25 SE 25000mAh', desc: '92.5Wh - H·ª£p l·ªá bay. Ph·∫£i in r√µ dung l∆∞·ª£ng.', tags: ['X√°ch tay', 'H·∫£i quan check'] },
            { id: 't2', cat: 'C√¥ng ngh·ªá & ƒêi·ªán t·ª≠', name: 'ƒêi·ªán tho·∫°i (C√†i s·∫µn VPN)', desc: 'C√†i s·∫µn V2ray/Clash mua g√≥i m·∫°ng VN.', tags: ['X√°ch tay', 'Setup tr∆∞·ªõc'] },
            { id: 't3', cat: 'C√¥ng ngh·ªá & ƒêi·ªán t·ª≠', name: 'Laptop & C·ª•c s·∫°c', desc: 'B·ªè balo qua c·ª≠a an ninh ph·∫£i b·ªè ra khay ri√™ng.', tags: ['X√°ch tay', 'H·∫£i quan check'] },
            { id: 't4', cat: 'C√¥ng ngh·ªá & ƒêi·ªán t·ª≠', name: 'C√°p s·∫°c Type-C to C / USB-A', desc: 'Mang d∆∞ 2 s·ª£i ph√≤ng ƒë·ª©t ng·∫ßm.', tags: ['X√°ch tay/K√Ω g·ª≠i'] },
            { id: 't5', cat: 'C√¥ng ngh·ªá & ƒêi·ªán t·ª≠', name: '·ªî c·∫Øm ƒëi·ªán k√©o d√†i (Lioa)', desc: 'R·∫•t c·∫ßn v√¨ ph√≤ng tr·ªç √≠t ·ªï c·∫Øm.', tags: ['K√Ω g·ª≠i'] },
            { id: 't6', cat: 'C√¥ng ngh·ªá & ƒêi·ªán t·ª≠', name: 'Ph√≠ch chuy·ªÉn ƒë·ªïi 3 ch·∫•u ch√©o', desc: '·ªî c·∫Øm t∆∞·ªùng TQ to√†n lo·∫°i 3 ch·∫•u ch√©o.', tags: ['X√°ch tay/K√Ω g·ª≠i'] },
            { id: 't7', cat: 'C√¥ng ngh·ªá & ƒêi·ªán t·ª≠', name: 'S√≤ l·∫°nh / Qu·∫°t t·∫£n nhi·ªát ƒëi·ªán tho·∫°i', desc: 'ƒê·ªÉ c√†y game m∆∞·ª£t kh√¥ng chai pin.', tags: ['X√°ch tay/K√Ω g·ª≠i'] },
            { id: 't8', cat: 'C√¥ng ngh·ªá & ƒêi·ªán t·ª≠', name: 'Tai nghe TWS / C√≥ d√¢y', desc: 'Ch·ªëng ·ªìn l√∫c ƒëi t√†u xe, m√°y bay.', tags: ['X√°ch tay'] },

            // DIGITAL LIFESTYLE (Setup tr∆∞·ªõc bay)
            { id: 'd1', cat: 'Digital & App', name: 'App Alipay & WeChat', desc: 'X√°c th·ª±c h·ªô chi·∫øu s·∫µn t·ª´ nh√†.', tags: ['Setup tr∆∞·ªõc', 'T√†i ch√≠nh'] },
            { id: 'd2', cat: 'Digital & App', name: 'App B·∫£n ƒë·ªì TQ (Gaode/Baidu Maps)', desc: 'Google Maps kh√¥ng d√πng ƒë∆∞·ª£c.', tags: ['Setup tr∆∞·ªõc'] },
            { id: 'd3', cat: 'Digital & App', name: 'Update Game (Genshin...)', desc: 'T·∫£i tr∆∞·ªõc data ·ªü nh√† cho ƒë·ª° t·ªën 4G/Wifi y·∫øu.', tags: ['Setup tr∆∞·ªõc'] },
            { id: 'd4', cat: 'Digital & App', name: 'T·∫£i Ti·ªÉu thuy·∫øt B√°ch h·ª£p / ABO', desc: 'L∆∞u offline ƒë·ªçc l√∫c ch·ªù t√†u, tr√™n m√°y bay.', tags: ['Setup tr∆∞·ªõc'] },
            { id: 'd5', cat: 'Digital & App', name: 'Backup Script Tampermonkey', desc: 'Xu·∫•t file code l∆∞u l√™n Drive d·ª± ph√≤ng.', tags: ['Setup tr∆∞·ªõc'] },

            // GI·∫§Y T·ªú
            { id: 'g1', cat: 'Gi·∫•y t·ªù & T√†i ch√≠nh', name: 'H·ªô chi·∫øu G·ªëc & Visa X2', desc: 'Gi·∫•y t·ªù sinh t·ª≠.', tags: ['X√°ch tay', 'Quan tr·ªçng'] },
            { id: 'g2', cat: 'Gi·∫•y t·ªù & T√†i ch√≠nh', name: 'Th∆∞ b√°o tr√∫ng tuy·ªÉn (G·ªëc+Photo)', desc: 'Tr√¨nh h·∫£i quan n·∫øu b·ªã h·ªèi.', tags: ['X√°ch tay'] },
            { id: 'g3', cat: 'Gi·∫•y t·ªù & T√†i ch√≠nh', name: 'Form JW202 / DQ', desc: 'B·∫Øt bu·ªôc v·ªõi du h·ªçc sinh.', tags: ['X√°ch tay'] },
            { id: 'g4', cat: 'Gi·∫•y t·ªù & T√†i ch√≠nh', name: 'Ti·ªÅn m·∫∑t NDT', desc: 'C√≥ t·ªù 10, 20 t·ªá l·∫ª ƒë·ªÉ ti√™u ban ƒë·∫ßu.', tags: ['X√°ch tay', 'T√†i ch√≠nh'] },
            { id: 'g5', cat: 'Gi·∫•y t·ªù & T√†i ch√≠nh', name: '·∫¢nh th·∫ª 3x4 & 4x6', desc: 'Ph√¥ng tr·∫Øng/xanh, mang nhi·ªÅu.', tags: ['X√°ch tay'] },

            // ƒê·ªí ƒÇN
            { id: 'f1', cat: 'ƒê·ªì ƒÉn (C·ª©u ƒë√≥i)', name: 'M√¨ g√≥i / Ph·ªü ƒÉn li·ªÅn (10 g√≥i)', desc: 'Ch√®n v√†o c√°c khe h·ªü trong vali 24.', tags: ['K√Ω g·ª≠i'] },
            { id: 'f2', cat: 'ƒê·ªì ƒÉn (C·ª©u ƒë√≥i)', name: 'Ru·ªëc heo / B√≤ kh√¥', desc: 'H√∫t ch√¢n kh√¥ng, b√≥c nh√£n m√°c.', tags: ['K√Ω g·ª≠i', 'H·∫£i quan check'] },
            { id: 'f3', cat: 'ƒê·ªì ƒÉn (C·ª©u ƒë√≥i)', name: 'C√† ph√™ h√≤a tan (G7/Trung Nguy√™n)', desc: 'TQ chu·ªông tr√†, √≠t u·ªëng cafe s·ªØa ƒë√°.', tags: ['K√Ω g·ª≠i'] },
            { id: 'f4', cat: 'ƒê·ªì ƒÉn (C·ª©u ƒë√≥i)', name: 'B·ªôt canh H·∫£o H·∫£o / T∆∞∆°ng ·ªõt', desc: 'Ch·∫•m hoa qu·∫£, gia v·ªã quen thu·ªôc.', tags: ['K√Ω g·ª≠i'] },

            // SINH HO·∫†T - M·ª∏ PH·∫®M
            { id: 's1', cat: 'Sinh ho·∫°t & C√° nh√¢n', name: 'BƒÉng v·ªá sinh / C·ªëc nguy·ªát san', desc: 'Mang 3 b·ªãch, l√≥t xung quanh vali ch·ªëng s·ªëc.', tags: ['K√Ω g·ª≠i', 'C·ªìng k·ªÅnh nh·∫π'] },
            { id: 's2', cat: 'Sinh ho·∫°t & C√° nh√¢n', name: 'Skincare quen thu·ªôc (S·ª≠a r·ª≠a m·∫∑t, Toner...)', desc: 'Tr√°nh s·ªëc nhi·ªát ƒë·ªõi g√¢y m·ª•n.', tags: ['K√Ω g·ª≠i', 'Ch·∫•t l·ªèng'] },
            { id: 's3', cat: 'Sinh ho·∫°t & C√° nh√¢n', name: 'B·ªô chi·∫øt m·ªπ ph·∫©m (100ml)', desc: 'D·∫ßu g·ªôi, s·ªØa t·∫Øm d√πng 1 tu·∫ßn ƒë·∫ßu.', tags: ['K√Ω g·ª≠i/X√°ch tay', 'Ch·∫•t l·ªèng'] },
            { id: 's4', cat: 'Sinh ho·∫°t & C√° nh√¢n', name: 'B√¥ng t·∫©y trang', desc: 'Nh·∫π nh∆∞ng t·ªën di·ªán t√≠ch.', tags: ['K√Ω g·ª≠i'] },
            { id: 's5', cat: 'Sinh ho·∫°t & C√° nh√¢n', name: 'Kim ch·ªâ, Nh√≠p, C·∫Øt m√≥ng tay', desc: 'C·∫Øt m√≥ng tay/K√©o nh·ªè B·∫ÆT BU·ªòC k√Ω g·ª≠i.', tags: ['K√Ω g·ª≠i', 'H·∫£i quan c·∫•m x√°ch tay'] },
            { id: 's6', cat: 'Sinh ho·∫°t & C√° nh√¢n', name: 'KhƒÉn m·∫∑t, KhƒÉn t·∫Øm', desc: 'N√™n mang 2 khƒÉn m·∫∑t.', tags: ['K√Ω g·ª≠i'] },
            { id: 's7', cat: 'Sinh ho·∫°t & C√° nh√¢n', name: 'B√†n ch·∫£i, Kem ƒë√°nh rƒÉng', desc: 'ƒê·ªÉ ch·ªó d·ªÖ l·∫•y trong vali.', tags: ['K√Ω g·ª≠i'] },

            // Y T·∫æ
            { id: 'y1', cat: 'Y t·∫ø & T·ªß thu·ªëc', name: 'Thu·ªëc h·∫° s·ªët, c·∫£m c√∫m (Panadol)', desc: 'C·∫ßn thi·∫øt khi thay ƒë·ªïi th·ªùi ti·∫øt.', tags: ['K√Ω g·ª≠i'] },
            { id: 'y2', cat: 'Y t·∫ø & T·ªß thu·ªëc', name: 'Thu·ªëc ti√™u h√≥a, Berberin', desc: 'ƒê·ªì ƒÉn TQ nhi·ªÅu d·∫ßu m·ª°, cay n√≥ng.', tags: ['K√Ω g·ª≠i'] },
            { id: 'y3', cat: 'Y t·∫ø & T·ªß thu·ªëc', name: 'BƒÉng c√° nh√¢n (Urgo), D·∫ßu gi√≥', desc: 'X·ª≠ l√Ω x√¢y x√°t, c√¥n tr√πng.', tags: ['K√Ω g·ª≠i'] },

            // QU·∫¶N √ÅO
            { id: 'c1', cat: 'Qu·∫ßn √°o & Gi√†y d√©p', name: '√Åo kho√°c ·∫•m (Th√°ng 3 l·∫°nh)', desc: 'M·∫∑c ƒëi ƒë∆∞·ªùng lu√¥n cho ƒë·ª° t·ªën ch·ªó.', tags: ['X√°ch tay'] },
            { id: 'c2', cat: 'Qu·∫ßn √°o & Gi√†y d√©p', name: '√Åo thun, ƒê·ªì m√πa h√®', desc: 'Th√°ng 5-7 s·∫Ω r·∫•t n√≥ng.', tags: ['K√Ω g·ª≠i vali 28'] },
            { id: 'c3', cat: 'Qu·∫ßn √°o & Gi√†y d√©p', name: 'Qu·∫ßn d√†i, Jeans', desc: 'Mang 3-4 c√°i thay ƒë·ªïi.', tags: ['K√Ω g·ª≠i vali 28'] },
            { id: 'c4', cat: 'Qu·∫ßn √°o & Gi√†y d√©p', name: 'ƒê·ªì l√≥t (10-15 b·ªô), T·∫•t', desc: 'Cu·ªôn nh√©t v√†o trong gi√†y ti·∫øt ki·ªám ch·ªó.', tags: ['K√Ω g·ª≠i vali 28'] },
            { id: 'c5', cat: 'Qu·∫ßn √°o & Gi√†y d√©p', name: 'Sneaker & D√©p l√™', desc: 'D√©p l√™ ƒëi trong nh√† tr·ªç.', tags: ['K√Ω g·ª≠i vali 28'] }
        ];

        let myList = JSON.parse(localStorage.getItem('packify_list')) || [];

        function getTagClass(tag) {
            if(tag.includes('X√°ch tay')) return 'tag-balo';
            if(tag.includes('K√Ω g·ª≠i')) return 'tag-vali';
            if(tag.includes('H·∫£i quan')) return 'tag-warn';
            if(tag.includes('Ch·∫•t l·ªèng')) return 'tag-liquid';
            if(tag.includes('Setup') || tag.includes('T√†i ch√≠nh')) return 'tag-tech';
            return 'tag-vali';
        }

        function switchTab(tab) {
            document.getElementById('view-db').classList.toggle('hidden', tab !== 'db');
            document.getElementById('view-list').classList.toggle('hidden', tab !== 'list');
            document.getElementById('btn-db').classList.toggle('active', tab === 'db');
            document.getElementById('btn-list').classList.toggle('active', tab === 'list');
            if(tab === 'db') renderDB();
            if(tab === 'list') renderList();
        }

        function renderDB() {
            const container = document.getElementById('db-content');
            const search = document.getElementById('searchInput').value.toLowerCase();
            container.innerHTML = '';

            const categories = [...new Set(masterData.map(i => i.cat))];
            
            categories.forEach(cat => {
                const items = masterData.filter(i => i.cat === cat && (i.name.toLowerCase().includes(search) || i.tags.join(' ').toLowerCase().includes(search)));
                if(items.length === 0) return;

                let html = `<div class="category"><div class="cat-header">${cat}</div>`;
                items.forEach(item => {
                    const isInList = myList.some(x => x.id === item.id);
                    const tagHtml = item.tags.map(t => `<span class="tag ${getTagClass(t)}">${t}</span>`).join('');
                    
                    html += `
                        <div class="item">
                            <div class="item-info">
                                <span class="item-title">${item.name}</span>
                                <span class="item-desc">${item.desc}</span>
                                <div class="tags-container">${tagHtml}</div>
                            </div>
                            ${isInList 
                                ? `<button class="btn-remove" onclick="removeFromList('${item.id}')"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg></button>` 
                                : `<button class="btn-add" onclick="addToList('${item.id}')">+</button>`}
                        </div>`;
                });
                html += `</div>`;
                container.innerHTML += html;
            });
        }

        function renderList() {
            const container = document.getElementById('list-content');
            container.innerHTML = '';
            
            if(myList.length === 0) {
                container.innerHTML = '<div style="text-align: center; color: var(--text-muted); padding: 40px;">Vali tr·ªëng. H√£y sang tab Kho ƒê·ªì ƒë·ªÉ th√™m item nh√©!</div>';
                updateProgress();
                return;
            }

            const categories = [...new Set(myList.map(i => i.cat))];
            
            categories.forEach(cat => {
                const items = myList.filter(i => i.cat === cat);
                let html = `<div class="category"><div class="cat-header">${cat}</div>`;
                items.forEach(item => {
                    const tagHtml = item.tags.map(t => `<span class="tag ${getTagClass(t)}">${t}</span>`).join('');
                    html += `
                        <div class="item ${item.checked ? 'checked' : ''}">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" ${item.checked ? 'checked' : ''} onchange="toggleCheck('${item.id}')">
                                <div class="item-info">
                                    <span class="item-title">${item.name}</span>
                                    <span class="item-desc">${item.desc}</span>
                                    <div class="tags-container">${tagHtml}</div>
                                </div>
                            </div>
                            <button class="btn-remove" onclick="removeFromList('${item.id}')">√ó</button>
                        </div>`;
                });
                html += `</div>`;
                container.innerHTML += html;
            });
            updateProgress();
        }

        function addToList(id) {
            const item = masterData.find(i => i.id === id);
            if(item && !myList.some(i => i.id === id)) {
                myList.push({...item, checked: false});
                saveData();
                renderDB();
            }
        }

        function removeFromList(id) {
            myList = myList.filter(i => i.id !== id);
            saveData();
            renderDB();
            renderList();
        }

        function toggleCheck(id) {
            const item = myList.find(i => i.id === id);
            if(item) {
                item.checked = !item.checked;
                saveData();
                renderList();
            }
        }

        function updateProgress() {
            const total = myList.length;
            const checked = myList.filter(i => i.checked).length;
            const percent = total === 0 ? 0 : Math.round((checked / total) * 100);
            
            document.getElementById('progress-count').innerText = `${checked}/${total} Ho√†n th√†nh`;
            document.getElementById('progress-fill').style.width = `${percent}%`;
        }

        function saveData() {
            localStorage.setItem('packify_list', JSON.stringify(myList));
        }

        // Init
        renderDB();
    </script>
</body>
</html>
