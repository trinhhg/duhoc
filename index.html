<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Packify - Du H·ªçc Trung Qu·ªëc</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        :root {
            --bg: #f4f4f5; --surface: #ffffff; --primary: #3b82f6; --text-main: #18181b; 
            --text-muted: #71717a; --border: #e4e4e7; --danger: #ef4444; --success: #22c55e;
            --safe-bottom: env(safe-area-inset-bottom, 20px);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: var(--text-main); height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        /* Mobile App Header */
        header { background: var(--surface); padding: 16px 20px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); z-index: 10; flex-shrink: 0; }
        .header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .app-title { font-size: 1.25rem; font-weight: 700; color: var(--primary); letter-spacing: -0.5px; }
        
        .search-container { position: relative; }
        .search-input { width: 100%; background: #f4f4f5; border: none; padding: 10px 16px; border-radius: 12px; font-size: 0.95rem; outline: none; }
        
        /* Main Scrollable Area */
        .main-content { flex: 1; overflow-y: auto; padding: 16px; padding-bottom: 90px; }
        
        /* Category Block */
        .category-group { margin-bottom: 24px; }
        .cat-title { font-size: 1.1rem; font-weight: 700; color: var(--text-main); margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        
        /* Product Card - Clean & Informative */
        .card { background: var(--surface); border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); border: 1px solid rgba(0,0,0,0.02); display: flex; flex-direction: column; position: relative; }
        .card-top { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
        
        .item-info { flex: 1; padding-right: 12px; }
        .item-name { font-size: 1.05rem; font-weight: 600; color: var(--text-main); margin-bottom: 4px; line-height: 1.3; }
        .item-note { font-size: 0.85rem; color: var(--text-muted); line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        /* Tags System */
        .tags { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 10px; }
        .tag { font-size: 0.7rem; font-weight: 600; padding: 4px 8px; border-radius: 6px; }
        .tag-balo { background: #fee2e2; color: #b91c1c; } /* X√°ch tay - ƒê·ªè nh·∫°t */
        .tag-vali { background: #e0e7ff; color: #3730a3; } /* K√Ω g·ª≠i - Xanh ƒë·∫≠m */
        .tag-digital { background: #dcfce7; color: #15803d; } /* Digital - Xanh l√° */
        .tag-warn { background: #fef08a; color: #854d0e; border: 1px solid #fde047; } /* L∆∞u √Ω h·∫£i quan */

        /* Add Button (Icon) */
        .btn-action { width: 36px; height: 36px; border-radius: 10px; border: none; background: #eff6ff; color: var(--primary); font-size: 1.4rem; font-weight: 500; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s; flex-shrink: 0; }
        .btn-action.added { background: var(--success); color: white; }
        .btn-remove { background: #fee2e2; color: var(--danger); }

        /* Checklist specific */
        .check-area { display: flex; align-items: center; gap: 12px; width: 100%; }
        .custom-checkbox { width: 24px; height: 24px; border-radius: 6px; border: 2px solid #cbd5e1; display: flex; align-items: center; justify-content: center; transition: 0.2s; }
        .check-area.done .custom-checkbox { background: var(--success); border-color: var(--success); }
        .check-area.done .custom-checkbox::after { content: "‚úì"; color: white; font-weight: bold; font-size: 14px; }
        .check-area.done .item-name, .check-area.done .item-note { text-decoration: line-through; color: #a1a1aa; }
        .check-area.done .tag { opacity: 0.5; }

        /* Progress Bar */
        .progress-box { background: var(--surface); padding: 16px; border-radius: 16px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
        .progress-text { display: flex; justify-content: space-between; font-size: 0.9rem; font-weight: 600; margin-bottom: 8px; }
        .bar-bg { height: 8px; background: #f4f4f5; border-radius: 4px; overflow: hidden; }
        .bar-fill { height: 100%; background: var(--primary); width: 0%; transition: 0.3s ease; }

        /* Bottom Navigation */
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: var(--surface); display: flex; justify-content: space-around; padding: 12px 0 var(--safe-bottom); box-shadow: 0 -1px 10px rgba(0,0,0,0.05); z-index: 20; border-top: 1px solid var(--border); }
        .nav-item { display: flex; flex-direction: column; align-items: center; gap: 4px; color: var(--text-muted); font-size: 0.75rem; font-weight: 600; width: 50%; padding: 8px 0; }
        .nav-item.active { color: var(--primary); }
        .nav-icon { font-size: 1.4rem; }
        
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <header>
        <div class="header-top">
            <div class="app-title">üì¶ Packify</div>
        </div>
        <div class="search-container" id="search-box">
            <input type="text" class="search-input" id="searchInput" placeholder="T√¨m gi√†y, s·∫°c, gi·∫•y t·ªù..." onkeyup="renderStore()">
        </div>
    </header>

    <div class="main-content" id="view-store">
        </div>

    <div class="main-content hidden" id="view-bag">
        <div class="progress-box">
            <div class="progress-text">
                <span>Ti·∫øn ƒë·ªô h√†nh l√Ω</span>
                <span id="progress-count">0/0</span>
            </div>
            <div class="bar-bg"><div class="bar-fill" id="progress-bar"></div></div>
        </div>
        <div id="bag-items"></div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active" id="tab-store" onclick="switchTab('store')">
            <span class="nav-icon">üõí</span>
            <span>Kho ƒê·ªì</span>
        </div>
        <div class="nav-item" id="tab-bag" onclick="switchTab('bag')">
            <span class="nav-icon">üß≥</span>
            <span>Vali C·ªßa T√¥i</span>
        </div>
    </div>

    <script>
        // DATA ƒê√É CHU·∫®N H√ìA - T√™n chung, m√¥ t·∫£ chi ti·∫øt, tag r√µ r√†ng
        const db = [
            {
                id: 'doc1', cat: 'üìÑ Gi·∫•y t·ªù c·ªët l√µi', name: 'H·ªô chi·∫øu & Visa X2', 
                note: 'B·∫£n g·ªëc c√≤n h·∫°n. Tuy·ªát ƒë·ªëi kh√¥ng ƒë·ªÉ qu√™n hay nh√©t v√†o vali k√Ω g·ª≠i.', 
                tags: [{text: 'X√°ch tay', class: 'tag-balo'}, {text: 'Quan tr·ªçng', class: 'tag-warn'}]
            },
            {
                id: 'doc2', cat: 'üìÑ Gi·∫•y t·ªù c·ªët l√µi', name: 'Th∆∞ b√°o tr√∫ng tuy·ªÉn ƒêH Giang Nam', 
                note: 'B·∫£n g·ªëc v√† 2 b·∫£n photo ƒë·ªÉ l√†m th·ªß t·ª•c nh·∫≠p h·ªçc th√°ng 3.', 
                tags: [{text: 'X√°ch tay', class: 'tag-balo'}]
            },
            {
                id: 'doc3', cat: 'üìÑ Gi·∫•y t·ªù c·ªët l√µi', name: 'Form JW202 / DQ', 
                note: 'Gi·∫•y t·ªù b·∫Øt bu·ªôc v·ªõi du h·ªçc sinh tr√¨nh h·∫£i quan.', 
                tags: [{text: 'X√°ch tay', class: 'tag-balo'}]
            },
            {
                id: 'dig1', cat: 'üíª H√†nh trang Digital', name: 'T·∫£i s·∫µn Truy·ªán offline', 
                note: 'Th·ªÉ lo·∫°i B√°ch h·ª£p, ABO, H√†o m√¥n th·∫ø gia... L∆∞u ƒë·ªãnh d·∫°ng epub/pdf ƒë·ªçc l√∫c ch·ªù t√†u xe.', 
                tags: [{text: 'ƒêi·ªán tho·∫°i', class: 'tag-digital'}]
            },
            {
                id: 'dig2', cat: 'üíª H√†nh trang Digital', name: 'C·∫≠p nh·∫≠t Game', 
                note: 'T·∫£i s·∫µn data Genshin Impact b·∫±ng Wifi ·ªü nh√†, sang ƒë√≥ t·∫£i b·∫±ng 4G r·∫•t x√≥t ti·ªÅn.', 
                tags: [{text: 'ƒêi·ªán tho·∫°i', class: 'tag-digital'}]
            },
            {
                id: 'dig3', cat: 'üíª H√†nh trang Digital', name: 'Backup Script Web', 
                note: 'Export m√£ ngu·ªìn Tampermonkey (ƒë√£ config ph√≠m F2) l√™n Drive ƒë·ªÉ sang ƒë√≥ ƒë·ªìng b·ªô d√πng ti·∫øp.', 
                tags: [{text: 'Laptop/Cloud', class: 'tag-digital'}]
            },
            {
                id: 'tech1', cat: 'üîã Thi·∫øt b·ªã & C√¥ng ngh·ªá', name: 'ƒêi·ªán tho·∫°i ch√≠nh', 
                note: 'B·∫Øt bu·ªôc c√†i s·∫µn app VPN (Clash/V2ray) t·ª´ VN. ƒê·ª´ng qu√™n mang theo c·ªß s·∫°c nhanh.', 
                tags: [{text: 'X√°ch tay', class: 'tag-balo'}, {text: 'H·∫£i quan soi', class: 'tag-warn'}]
            },
            {
                id: 'tech2', cat: 'üîã Thi·∫øt b·ªã & C√¥ng ngh·ªá', name: 'S·∫°c d·ª± ph√≤ng', 
                note: 'Model 25000mAh (92.5Wh) ho√†n to√†n h·ª£p l·ªá bay. B·∫Øt bu·ªôc ƒë·ªÉ x√°ch tay, h·∫£i quan s·∫Ω soi th√¥ng s·ªë in tr√™n v·ªè.', 
                tags: [{text: 'X√°ch tay', class: 'tag-balo'}, {text: 'H·∫£i quan check', class: 'tag-warn'}]
            },
            {
                id: 'tech3', cat: 'üîã Thi·∫øt b·ªã & C√¥ng ngh·ªá', name: 'Ph√≠ch c·∫Øm chuy·ªÉn ƒë·ªïi', 
                note: 'ƒê·∫ßu n·ªëi sang 3 ch·∫•u ch√©o. C·ª±c k·ª≥ quan tr·ªçng v√¨ ·ªï c·∫Øm t∆∞·ªùng TQ kh√¥ng d√πng ch√¢n tr√≤n.', 
                tags: [{text: 'Vali 24', class: 'tag-vali'}]
            },
            {
                id: 'life1', cat: 'üß¥ Sinh ho·∫°t & Y t·∫ø', name: 'BƒÉng v·ªá sinh / C·ªëc nguy·ªát san', 
                note: 'Mang ƒë·ªß d√πng v√†i chu k·ª≥ ƒë·∫ßu. L√≥t xung quanh vali 28 ƒë·ªÉ ch·ªëng s·ªëc.', 
                tags: [{text: 'Vali 28', class: 'tag-vali'}]
            },
            {
                id: 'life2', cat: 'üß¥ Sinh ho·∫°t & Y t·∫ø', name: 'Thu·ªëc men c∆° b·∫£n', 
                note: 'Panadol, Berberin, thu·ªëc d·ªã ·ª©ng, bƒÉng g·∫°c. ƒê√≥ng chung v√†o 1 t√∫i zip.', 
                tags: [{text: 'Vali 24', class: 'tag-vali'}]
            },
            {
                id: 'life3', cat: 'üß¥ Sinh ho·∫°t & Y t·∫ø', name: 'B·ªô chi·∫øt m·ªπ ph·∫©m mini', 
                note: 'S·ªØa t·∫Øm, d·∫ßu g·ªôi ƒë·ªß d√πng 1 tu·∫ßn. Tr√°nh mang chai l·ªõn n·∫∑ng vali.', 
                tags: [{text: 'Vali 24', class: 'tag-vali'}, {text: 'Ch·∫•t l·ªèng', class: 'tag-warn'}]
            },
            {
                id: 'food1', cat: 'üçú ƒê·ªì ƒÉn d·ª± ph√≤ng', name: 'M√¨ g√≥i / ƒê·ªì kh√¥', 
                note: 'V√†i g√≥i c·ª©u ƒë√≥i l√∫c n·ª≠a ƒë√™m. Ru·ªëc th·ªãt ph·∫£i h√∫t ch√¢n kh√¥ng, b·ªè nh√£n m√°c k·ªπ.', 
                tags: [{text: 'Vali 24', class: 'tag-vali'}, {text: 'Khai b√°o HQ', class: 'tag-warn'}]
            },
            {
                id: 'cloth1', cat: 'üëï Qu·∫ßn √°o & Gi√†y', name: 'Gi√†y Sneaker', 
                note: 'Mang 1 ƒë√¥i ƒëi ƒë∆∞·ªùng, 1 ƒë√¥i c·∫•t vali. Nh√©t t·∫•t/v·ªõ v√†o trong l√≤ng gi√†y ti·∫øt ki·ªám ch·ªó.', 
                tags: [{text: 'Vali 28', class: 'tag-vali'}]
            },
            {
                id: 'cloth2', cat: 'üëï Qu·∫ßn √°o & Gi√†y', name: '√Åo kho√°c / ƒê·ªì ·∫•m', 
                note: 'Th·ªùi ti·∫øt th√°ng 3 v·∫´n se l·∫°nh. √Åo d√†y nh·∫•t n√™n m·∫∑c th·∫≥ng l√™n ng∆∞·ªùi ra s√¢n bay.', 
                tags: [{text: 'M·∫∑c / Vali 28', class: 'tag-vali'}]
            }
        ];

        let myBag = JSON.parse(localStorage.getItem('packify_bag_v6')) || [];

        function switchTab(tab) {
            document.getElementById('view-store').classList.toggle('hidden', tab !== 'store');
            document.getElementById('search-box').classList.toggle('hidden', tab !== 'store');
            document.getElementById('view-bag').classList.toggle('hidden', tab !== 'bag');
            
            document.getElementById('tab-store').classList.toggle('active', tab === 'store');
            document.getElementById('tab-bag').classList.toggle('active', tab === 'bag');
            
            if(tab === 'store') renderStore();
            if(tab === 'bag') renderBag();
        }

        function renderStore() {
            const container = document.getElementById('view-store');
            const search = document.getElementById('searchInput').value.toLowerCase();
            container.innerHTML = '';

            const categories = [...new Set(db.map(i => i.cat))];
            
            categories.forEach(cat => {
                const items = db.filter(i => i.cat === cat && (i.name.toLowerCase().includes(search) || i.note.toLowerCase().includes(search)));
                if(items.length === 0) return;

                let html = `<div class="category-group"><div class="cat-title">${cat}</div>`;
                items.forEach(item => {
                    const isAdded = myBag.some(x => x.id === item.id);
                    html += `
                        <div class="card">
                            <div class="card-top">
                                <div class="item-info">
                                    <div class="item-name">${item.name}</div>
                                    <div class="item-note">${item.note}</div>
                                </div>
                                <button class="btn-action ${isAdded ? 'added' : ''}" onclick="toggleItem('${item.id}')">
                                    ${isAdded ? '‚úì' : '+'}
                                </button>
                            </div>
                            <div class="tags">
                                ${item.tags.map(t => `<span class="tag ${t.class}">${t.text}</span>`).join('')}
                            </div>
                        </div>`;
                });
                html += `</div>`;
                container.innerHTML += html;
            });
        }

        function renderBag() {
            const container = document.getElementById('bag-items');
            container.innerHTML = '';

            if(myBag.length === 0) {
                container.innerHTML = '<div style="text-align:center; color:#a1a1aa; padding:40px;">Vali ƒëang tr·ªëng tr∆°n.</div>';
                updateProgress();
                return;
            }

            const categories = [...new Set(myBag.map(i => i.cat))];
            
            categories.forEach(cat => {
                const items = myBag.filter(i => i.cat === cat);
                let html = `<div class="category-group"><div class="cat-title">${cat}</div>`;
                items.forEach(item => {
                    html += `
                        <div class="card" onclick="toggleCheck('${item.id}')">
                            <div class="check-area ${item.checked ? 'done' : ''}">
                                <div class="custom-checkbox"></div>
                                <div class="item-info">
                                    <div class="item-name">${item.name}</div>
                                    <div class="item-note">${item.note}</div>
                                    <div class="tags">
                                        ${item.tags.map(t => `<span class="tag ${t.class}">${t.text}</span>`).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>`;
                });
                html += `</div>`;
                container.innerHTML += html;
            });
            updateProgress();
        }

        function toggleItem(id) {
            const index = myBag.findIndex(i => i.id === id);
            if(index > -1) {
                myBag.splice(index, 1);
            } else {
                const item = db.find(i => i.id === id);
                myBag.push({...item, checked: false});
            }
            saveData();
            renderStore();
        }

        function toggleCheck(id) {
            const item = myBag.find(i => i.id === id);
            if(item) {
                item.checked = !item.checked;
                saveData();
                renderBag();
            }
        }

        function updateProgress() {
            const total = myBag.length;
            const done = myBag.filter(i => i.checked).length;
            const percent = total === 0 ? 0 : Math.round((done / total) * 100);
            
            document.getElementById('progress-count').innerText = `${done}/${total}`;
            document.getElementById('progress-bar').style.width = `${percent}%`;
        }

        function saveData() {
            localStorage.setItem('packify_bag_v6', JSON.stringify(myBag));
        }

        // Kh·ªüi ch·∫°y
        renderStore();
    </script>
</body>
</html>
